{% extends 'authority_base/authority_base.html' %}
{% load static %}
{% load widget_tweaks %}

{% block title %} {{title}} {% endblock title %}



{% block body %}
<div class="bg-light rounded h-100 p-4">
    <h6 class="mb-4">Employee List</h6>
    <div class="col-md-12 col-lg-12 mb-4">
            <form method="POST"> {% csrf_token %}
                <div class="row mb-4">
                    <div class="col">
                        <label for="exampleInputEmail1" class="form-label">Month</label>
                        {{form.salary_month |add_class:"form-select"}}
                    </div>
                    <div class="col">
                        <label for="exampleInputEmail1" class="form-label">Fastival Bonus</label>
                        {{form.festival_bonus |add_class:"form-select"}}
                    </div>
                    <div class="col mt-4">
                        <button type="Submit" class="btn btn-primary">Update</button>
                    </div>
                </div>
            </div>
        </form>
        <h5 class="mb-4">Salary Details</h5>
        <table class="table table-striped table-bordered">
            <thead class="table-dark">
                <tr>
                    <th class="col-4" scope="col">Fields Name</th>
                    <th class="col-8" scope="col">Details</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Basic Salary</td>
                    <td> {{salary.salary_of.basic_salary}} /-  </td>
                </tr>
                <tr>
                    <td>Conveyance</td>
                    <td> {{salary.total_conveyance}}/- ({{salary.salary_of.conveyance |floatformat:"0"|add:0}}% of Basic Salary)</td>
                </tr>
                <tr>
                    <td>Food Allowance</td>
                    <td> {{salary.total_food_allowance}}/- ({{salary.salary_of.food_allowance |floatformat:"0"|add:0}}% of Basic Salary)</td>
                </tr>
                <tr>
                    <td>Medical Allowance</td>
                    <td> {{salary.total_medical_allowance}}/- ({{salary.salary_of.medical_allowance |floatformat:"0"|add:0}}% of Basic Salary)</td>
                </tr>
                <tr>
                    <td>House Allowance</td>
                    <td> {{salary.total_house_rent}}/- ({{salary.salary_of.house_rent |floatformat:"0"|add:0}}% of Basic Salary)</td>
                </tr>
                <tr>
                    <td>Mobile Allowance</td>
                    <td> {{salary.total_mobile_allowance}}/- ({{salary.salary_of.mobile_allowance |floatformat:"0"|add:0}}% of Basic Salary)</td>
                </tr>
                {% if salary.festival_bonus%}
                    <tr>
                        <td>Festival Bonus ({{salary.festival_bonus.festival_name}}) </td>
                        <td> {{salary.total_bonus}}/- ({{salary.festival_bonus.bonus_percentage |floatformat:"0"|add:0}}% of Basic Salary)</td>
                    </tr>
                {% endif %}
                <tr>
                    <td class="table-dark">Total Salary</td>
                    <td class="table-dark">  {{salary.total_salary}}/-</td>
                </tr>
                
                
            </tbody>
        </table>
</div>



{% endblock body %}